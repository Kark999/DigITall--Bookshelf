import{a as y}from"./assets/vendor-0cb09735.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();y.defaults.baseURL="https://books-backend.p.goit.global/books";async function i(t,e=""){try{const r=t+e;return(await y.get(r)).data}catch(r){return console.error("Error fetching data:",r),null}}function p(t){return Array.from(t,e=>`<li class="sidebar-category-list-item">${e.list_name}</li>`).join("")}function m(t,e,r="",s="",o=""){return`<button type="button" class="${t}" data-category = "${r}" data-action = "${s}" data-id = "${o}">${e}</button>`}function d(t){return`<li class="card-book" data-id="${t._id}">
  <a class="book-link" href="${t.book_image}" data-id="${t._id}"></a>
    <img class="book-image" src="${t.book_image}"
      alt="${t.title}"
      width="${t.book_image_width}"
      height="${t.book_image_height}" data-id="${t._id}">
<div class="book-content" data-id="${t._id}">
  <h3 class="book-title" data-id="${t._id}">${t.title}</h3>
  <p class="book-author" data-id="${t._id}">${t.author}</p>
</div>
</li>`}function c(t,e){t.innerHTML=e}function g(t,e){return`<ul class="category-list">${t.map(o=>e(o)).join("")}</ul>`}const n={mainTitle:document.querySelector(".main-title"),mainCatWrap:document.querySelector(".category-list-wrapper"),sidebarCatList:null,catList:document.querySelector(".sidebar-category-list"),seeMoreButtons:null},l={list:"/category-list",topbooks:"/top-books",category:"/category?category=",id:"/{id}"};document.addEventListener("DOMContentLoaded",async()=>{n.mainTitle.textContent="Best Sellers Books";try{const e=(await i(l.topbooks)).map(r=>{const s=`<h2 class="category-title">${r.list_name}</h2>`,o=g(r.books,d),a=m("see-more-button","See more",r.list_name);return s+o+a}).join("");c(n.mainCatWrap,e)}catch(t){console.log("Error getting top sellers book data:",t)}try{const t=await i(l.list),e=p(t);c(n.catList,e)}catch(t){console.log("Error getting sidebar category list:",t)}n.catList.addEventListener("click",async t=>{if(t.target!==t.currentTarget){n.mainTitle.textContent=t.target.textContent;try{const e=await i(l.category,t.target.textContent),r=g(e,d);c(n.mainCatWrap,r)}catch(e){console.log("Error getting selected category data:",e)}}}),n.seeMoreButtons=document.querySelectorAll(".see-more-button"),n.seeMoreButtons.forEach(t=>t.addEventListener("click",async e=>{if(e.target.dataset.category){n.mainTitle.textContent=e.target.dataset.category;try{const r=await i(l.category,e.target.dataset.category),s=g(r,d);c(n.mainCatWrap,s)}catch(r){console.log("Error getting selected category data:",r)}}})),n.sidebarCatList=document.querySelectorAll(".category-list"),n.sidebarCatList.forEach(t=>{t.addEventListener("click",async e=>{e.target,e.currentTarget})})});
//# sourceMappingURL=commonHelpers.js.map
