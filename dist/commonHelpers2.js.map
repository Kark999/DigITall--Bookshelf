{"version":3,"file":"commonHelpers2.js","sources":["../src/js/cart-countdown-timer.js","../src/js/workInLS.js","../src/img/png/cart-background.png","../src/js/cartPagination.js","../src/js/shoppingListHandler.js","../src/shopping-list.js"],"sourcesContent":["import { cartRefs } from '../shopping-list';\r\n\r\nconst cartTimerWrap = document.querySelector('.cart-timer-wrap');\r\n\r\nconst createCartCountdownTimerMarkup = () => {\r\n  return `<div class=\"cart-timer\">\r\n      <h3 class=\"cart-timer-title\">\r\n        Place your order within next 2 hours and get 10% discount!\r\n      </h3>\r\n      <div class=\"cart-timer-box\">\r\n         <div id=\"hours\" class=\"cart-timer-item\">\r\n          <div class=\"cart-timer-circle\">\r\n            <svg class=\"cart-circle\" viewbox=\"0 0 100 100\">\r\n              <linearGradient id=\"gradient\" x1=\"100%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\r\n                <stop class=\"cart-gradient_1\" offset=\"0%\"></stop>\r\n                <stop class=\"cart-gradient_2\" offset=\"70%\"></stop>\r\n                <stop class=\"cart-gradient_3\" offset=\"100%\"></stop>\r\n              </linearGradient>\r\n              <circle class=\"cart-segment\" r=\"9.55%\" cx=\"50%\" cy=\"50%\"></circle>\r\n            </svg>\r\n            <div class=\"cart-timer-num\">0</div>\r\n          </div>\r\n          <p class=\"cart-time-name\">hours</p>\r\n        </div>\r\n         <div id=\"minutes\" class=\"cart-timer-item\">\r\n          <div class=\"cart-timer-circle\">\r\n            <svg class=\"cart-circle\" viewbox=\"0 0 100 100\">\r\n              <linearGradient id=\"gradient\" x1=\"100%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\r\n                <stop class=\"cart-gradient_1\" offset=\"0%\"></stop>\r\n                <stop class=\"cart-gradient_2\" offset=\"70%\"></stop>\r\n                <stop class=\"cart-gradient_3\" offset=\"100%\"></stop>\r\n              </linearGradient>\r\n              <circle class=\"cart-segment\" r=\"9.55%\" cx=\"50%\" cy=\"50%\"></circle>\r\n            </svg>\r\n            <div class=\"cart-timer-num\">0</div>\r\n          </div>\r\n          <p class=\"cart-time-name\">minutes</p>\r\n        </div>\r\n         <div id=\"seconds\" class=\"cart-timer-item\">\r\n          <div class=\"cart-timer-circle\">\r\n            <svg class=\"cart-circle\" viewbox=\"0 0 100 100\">\r\n              <linearGradient id=\"gradient\" x1=\"100%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\r\n                <stop class=\"cart-gradient_1\" offset=\"0%\"></stop>\r\n                <stop class=\"cart-gradient_2\" offset=\"70%\"></stop>\r\n                <stop class=\"cart-gradient_3\" offset=\"100%\"></stop>\r\n              </linearGradient>\r\n              <circle class=\"cart-segment\" r=\"9.55%\" cx=\"50%\" cy=\"50%\"></circle>\r\n            </svg>\r\n            <div class=\"cart-timer-num\">0</div>\r\n          </div>\r\n          <p class=\"cart-time-name\">seconds</p>\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n};\r\n\r\ncartTimerWrap.innerHTML = createCartCountdownTimerMarkup();\r\n\r\nconst dom = {\r\n  hours: document.getElementById('hours'),\r\n  minutes: document.getElementById('minutes'),\r\n  seconds: document.getElementById('seconds'),\r\n};\r\n\r\n// ======= Timer only for presentation ======= //\r\n// let timerFinished = false;\r\n\r\n// const getTime = () => {\r\n//   const lsTime = localStorage.getItem('time');\r\n//   if (lsTime) {\r\n//     return lsTime;\r\n//   }\r\n//   const addTime = 20000;\r\n//   // const addTime = 1000 * 60 * 60 * 2;\r\n//   const finishedTime = Date.now() + addTime;\r\n//   localStorage.setItem('time', finishedTime);\r\n//   return finishedTime;\r\n// };\r\n\r\n// const timerInterval = setInterval(() => {\r\n//   const timeNow = Date.now();\r\n//   const timer = getTime() - timeNow;\r\n//   const formattedTime = getFormattedTime(timer);\r\n\r\n//   if (formattedTime.seconds < 0 && !timerFinished) {\r\n//     // Time is up for the first time\r\n//     clearInterval(timerInterval);\r\n//     localStorage.removeItem('time');\r\n//     timerFinished = true;\r\n\r\n//     const cartTimerWrap = document.querySelector('.cart-timer-wrap');\r\n//     if (cartTimerWrap) {\r\n//       cartTimerWrap.style.display = 'none';\r\n//     }\r\n//   }\r\n\r\n//   renderTime(formattedTime, dom);\r\n// }, 1000);\r\n\r\n// ======= below code for timer never appear even after reloading/refreshing the page ====== //\r\n\r\nlet timerFinished = localStorage.getItem('timerFinished') === 'true';\r\n\r\nconst getTime = () => {\r\n  const lsTime = localStorage.getItem('time');\r\n  if (lsTime) {\r\n    return lsTime;\r\n  }\r\n  const addTime = 1000 * 60 * 60 * 2; // 2 hours in milliseconds\r\n  const finishedTime = Date.now() + addTime;\r\n  localStorage.setItem('time', finishedTime);\r\n  return finishedTime;\r\n};\r\n\r\nconst timerInterval = setInterval(() => {\r\n  const timeNow = Date.now();\r\n  const timer = getTime() - timeNow;\r\n  const formattedTime = getFormattedTime(timer);\r\n\r\n  if (formattedTime.seconds < 0 && !timerFinished) {\r\n    clearInterval(timerInterval);\r\n    localStorage.removeItem('time');\r\n    timerFinished = true;\r\n    localStorage.setItem('timerFinished', 'true');\r\n  }\r\n\r\n  const cartTimerWrap = document.querySelector('.cart-timer-wrap');\r\n  if (cartTimerWrap) {\r\n    cartTimerWrap.style.display = 'none';\r\n  }\r\n\r\n  renderTime(formattedTime, dom);\r\n}, 1000);\r\n\r\nfunction getFormattedTime(time) {\r\n  const formattedTime = {\r\n    hours: Math.floor((time % (1000 * 60 * 60 * 2)) / (1000 * 60 * 60)),\r\n    minutes: Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)),\r\n    seconds: Math.floor((time % (1000 * 60)) / 1000),\r\n  };\r\n  return formattedTime;\r\n}\r\n\r\nfunction renderTime(timeData, dom) {\r\n  Object.keys(timeData).forEach(key => {\r\n    if (!dom[key]) return;\r\n    dom[key].querySelector('.cart-timer-num').innerHTML = timeData[key];\r\n    // console.log({ key, dom: dom[key] });\r\n  });\r\n}\r\n","const prefixKey = ''; // Prefix is needed to make your keys unique in LS,  as another library may have the same key\r\n\r\nexport const getLS = key => {\r\n  try {\r\n    const lsValue = localStorage.getItem(\r\n      `${prefixKey ? `${prefixKey}_` : ''}${key}`\r\n    );\r\n    if (lsValue) {\r\n      return JSON.parse(lsValue);\r\n    }\r\n    throw new Error(`I do not find ${prefixKey ? `${prefixKey}_` : ''}${key}`);\r\n  } catch (error) {\r\n    // console.warn('[getLS]: ', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// const cart = getLS(\"cart\");\r\n\r\nexport const setLS = (key, value) => {\r\n  try {\r\n    value === null\r\n      ? localStorage.removeItem(`${prefixKey ? `${prefixKey}_` : ''}${key}`)\r\n      : localStorage.setItem(\r\n          `${prefixKey ? `${prefixKey}_` : ''}${key}`,\r\n          JSON.stringify(value)\r\n        );\r\n  } catch (error) {\r\n    console.warn('[setLS]: ', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// ===== end work in localeStorage ===== //\r\n","export default \"__VITE_ASSET__8169f96b__\"","import { getLS } from './workInLS';\r\n\r\nconst store = {\r\n  offset: 0,\r\n  count: 3,\r\n};\r\n\r\nexport const getActualCards = () => {\r\n  const cards = getLS('cart') || [];\r\n  if (!cards?.length) return [];\r\n\r\n  return cards.slice(store.offset, store.offset + store.count);\r\n};\r\n\r\nexport const getCardsByPage = page => {\r\n  const cards = getLS('cart');\r\n  if (!cards?.length) return [];\r\n  store.offset = (page - 1) * store.count;\r\n  return getActualCards();\r\n};\r\n\r\nfunction createPaginationButton(label, changePagination) {\r\n  const button = document.createElement('button');\r\n  button.classList.add('cart-pagination-btn');\r\n  button.textContent = label;\r\n  button.onclick = changePagination; // Attach click event\r\n  return button;\r\n}\r\n\r\nexport const renderPagination = (domElement, changePagination) => {\r\n  const cart = getLS('cart') || [];\r\n\r\n  const pages = Math.ceil(cart.length / store.count);\r\n  const currentPage = store.offset / store.count + 1;\r\n  if (pages === 1) return;\r\n  if (pages === 0) {\r\n    changePagination(0);\r\n    return;\r\n  }\r\n  const paginationDiv = document.createElement('div');\r\n  paginationDiv.classList.add('cart-pagination-btns');\r\n\r\n  const countPageBtn = cart.length > 6 ? 3 : 2;\r\n  const isStartDotsBtn = countPageBtn === 3 && currentPage >= countPageBtn;\r\n\r\n  const isEndDotsBtn = currentPage !== pages && pages > countPageBtn;\r\n\r\n  // ======= render first arrow btns ======= //\r\n  const btn1 = createPaginationButton('<<', () => {\r\n    changePagination(1);\r\n  });\r\n\r\n  btn1.disabled = currentPage === 1;\r\n\r\n  if (!btn1.disabled) {\r\n    btn1.classList.add('cart-shrink');\r\n    btn1.classList.add('cart-last-arrow-btn');\r\n  }\r\n\r\n  paginationDiv.appendChild(btn1);\r\n\r\n  // ======= render first arrow btns ======= //\r\n  const btn2 = createPaginationButton('<', () => {\r\n    changePagination(currentPage - 1);\r\n  });\r\n\r\n  btn2.disabled = currentPage === 1;\r\n\r\n  if (!btn2.disabled) {\r\n    btn2.classList.add('cart-shrink');\r\n    btn2.classList.add('cart-last-arrow-btn');\r\n  }\r\n\r\n  paginationDiv.appendChild(btn2);\r\n\r\n  // ======= render dots btns ======= //\r\n\r\n  const dotsBtnPrev = createPaginationButton('...', () => {});\r\n\r\n  if (!isStartDotsBtn) {\r\n    dotsBtnPrev.setAttribute('style', 'display:none;');\r\n  }\r\n\r\n  paginationDiv.appendChild(dotsBtnPrev);\r\n\r\n  // ======= render page btn ======= //\r\n\r\n  for (let index = 1; index <= countPageBtn; index++) {\r\n    const newPage = isStartDotsBtn\r\n      ? index + currentPage - countPageBtn + Number(isEndDotsBtn)\r\n      : index;\r\n\r\n    const pageBtn = createPaginationButton(newPage, () => {\r\n      changePagination(newPage);\r\n    });\r\n\r\n    if (index === 1 && isStartDotsBtn) {\r\n      pageBtn.setAttribute('style', 'display:none;');\r\n    }\r\n\r\n    if (index === countPageBtn && isEndDotsBtn) {\r\n      pageBtn.setAttribute('style', 'display:none;');\r\n    }\r\n\r\n    if (currentPage === newPage) {\r\n      pageBtn.classList.add('cart-pagination-btn-active');\r\n      pageBtn.classList.add('cart-shrink');\r\n    } else if (currentPage !== newPage && currentPage > newPage) {\r\n      pageBtn.classList.add('cart-last-arrow-btn');\r\n      pageBtn.classList.add(`cart-shrink`);\r\n      dotsBtnPrev.classList.add('cart-last-arrow-btn');\r\n    } else {\r\n      pageBtn.classList.add(`cart-shrink`);\r\n    }\r\n\r\n    paginationDiv.appendChild(pageBtn);\r\n  }\r\n\r\n  // ======= render dots btns ======= //\r\n\r\n  const dotsBtn = createPaginationButton('...', () => {});\r\n\r\n  if (!isEndDotsBtn) {\r\n    dotsBtn.setAttribute('style', 'display:none;');\r\n  }\r\n\r\n  paginationDiv.appendChild(dotsBtn);\r\n\r\n  // ======= render next arrow btns ======= //\r\n  const btn3 = createPaginationButton('>', () => {\r\n    changePagination(currentPage + 1);\r\n  });\r\n\r\n  btn3.disabled = pages === currentPage;\r\n\r\n  if (!btn3.disabled) {\r\n    btn3.classList.add('cart-shrink');\r\n    btn3.classList.add('cart-next-arrow-btn');\r\n  }\r\n\r\n  paginationDiv.appendChild(btn3);\r\n\r\n  // ======= render last arrow btns ======= //\r\n  const btn4 = createPaginationButton('>>', () => {\r\n    changePagination(pages);\r\n  });\r\n\r\n  btn4.disabled = pages === currentPage;\r\n\r\n  if (!btn4.disabled) {\r\n    btn4.classList.add('cart-shrink');\r\n    btn4.classList.add('cart-next-arrow-btn');\r\n  }\r\n\r\n  paginationDiv.appendChild(btn4);\r\n  domElement.appendChild(paginationDiv);\r\n};\r\n","import { getLS, setLS } from './workInLS';\r\nimport amazon from '../img/png/amazon.png';\r\nimport apple from '../img/png/apple-book.png';\r\nimport emptyCart from '../img/png/cart-background.png';\r\nimport { createCategoryMarkup } from './createMarkups';\r\nimport {\r\n  getActualCards,\r\n  getCardsByPage,\r\n  renderPagination,\r\n} from './cartPagination';\r\n\r\nexport const makeDeleteCardFromLSHandler = domElement => id => {\r\n  const cart = getLS('cart');\r\n  const newCart = cart.filter(book => book._id !== id);\r\n  setLS('cart', newCart.length > 0 ? newCart : null);\r\n  renderCartMarkupWithPagination(domElement, getActualCards(newCart));\r\n};\r\n\r\nconst createCardsMarkup = book => {\r\n  return `<li class=\"cart-item-glow cart-item\">\r\n          <img class=\"cart-image\" src=\"${book.book_image}\"/>\r\n          <div class=\"cart-book-section\">\r\n            <h3 class=\"cart-book-title\">${book.title}</h3>\r\n            <button class=\"cart-remove-book-btn\" onclick=\"window.deleteCardFromLSHandler('${\r\n              book._id\r\n            }')\">\r\n              <span class=\"cart-trash\">\r\n                <span></span>\r\n                <i></i>\r\n              </span>\r\n            </button>\r\n            <p class=\"cart-book-category\">${book.list_name}</p>\r\n            <p class=\"cart-book-description\">\r\n             ${\r\n               book.description\r\n                 ? book.description\r\n                 : 'No description has been added to this book'\r\n             }\r\n            </p>\r\n            <div class=\"cart-info-wrapper\">\r\n            <p class=\"cart-book-autor\">${book.author}</p>\r\n            <div class=\"cart-book-links\">\r\n              <a href=${\r\n                book.buy_links[0].url\r\n              } class=\"cart-amazon cart-amazon-dark\">\r\n                <img src=${amazon} alt=${book.buy_links[0].name} />\r\n              </a>\r\n              <a\r\n                href=${book.buy_links[1].url}\r\n                class=\"cart-apple-books cart-apple-books-dark\"\r\n              >\r\n                <img src=${apple} alt=${book.buy_links[1].name} />\r\n              </a>\r\n            </div>\r\n            </div>\r\n          </div>\r\n        </li>`;\r\n};\r\n\r\nconst createEmptyCartMarkup = () => {\r\n  return `<li class=\"cart-background\">\r\n        <p class=\"cart-background-text\">\r\n          This page is empty, add some books and proceed to order.\r\n        </p>\r\n        <img class=\"cart-bg-img\" src=\"${emptyCart}\" />\r\n      </li>`;\r\n};\r\n\r\nconst makeChangePagination = domElement => page => {\r\n  const cart = getCardsByPage(page);\r\n  renderContent(domElement, cart);\r\n};\r\n\r\nconst renderCartMarkupWithPagination = (domElement, cart) => {\r\n  domElement.innerHTML = createCategoryMarkup(cart, createCardsMarkup);\r\n  renderPagination(domElement, makeChangePagination(domElement));\r\n};\r\n\r\nconst renderContent = (domElement, cart) => {\r\n  if (!cart?.length) {\r\n    domElement.innerHTML = createCategoryMarkup([''], createEmptyCartMarkup);\r\n    return;\r\n  }\r\n  renderCartMarkupWithPagination(domElement, cart);\r\n};\r\n\r\nexport const renderCart = domElement => {\r\n  const cart = getLS('cart');\r\n  renderContent(domElement, getActualCards(cart));\r\n};\r\n","import './js/enableDarkTheme';\r\nimport './js/autorization';\r\nimport './js/donation-list';\r\nimport './js/cart-countdown-timer';\r\nimport { refs } from './js/refs';\r\nimport {\r\n  renderCart,\r\n  makeDeleteCardFromLSHandler,\r\n} from './js/shoppingListHandler';\r\nimport { setActivePage } from './js/showHideFn';\r\nimport { isUserLoggedIn } from './js/autorization';\r\nimport { getLS, setLS } from './js/workInLS';\r\nimport icon from './img/icons.svg';\r\n\r\nisUserLoggedIn();\r\nsetActivePage('header-nav-link-shop');\r\n\r\nexport const cartRefs = {\r\n  body: document.querySelector('body'),\r\n  logoIcon: document.querySelector('.header-logo-icon:nth-child(2)'),\r\n  mainContainer: document.querySelector('.main-container'),\r\n  mainTitle: document.querySelector('.main-title'),\r\n  cartTimerWrap: document.querySelector('.cart-timer-wrap'),\r\n  cartItem: document.querySelector('.cart-item'),\r\n  cartBookTitle: document.querySelector('.cart-book-title'),\r\n  cartBookDescription: document.querySelector('.cart-book-description'),\r\n  cartAmazon: document.querySelector('.cart-amazon'),\r\n  cartAppleBooks: document.querySelector('.cart-apple-books'),\r\n};\r\n\r\nrefs.mainTitle.innerHTML = `Shopping <span>List</span>`;\r\nrenderCart(refs.shopListWrap);\r\nwindow.deleteCardFromLSHandler = makeDeleteCardFromLSHandler(refs.shopListWrap);\r\n\r\nconst checkBox = document.querySelector('#themeToggle');\r\n\r\nconst changeLogoIcon = isDarkTheme => {\r\n  const theme = isDarkTheme ? 'dark' : 'light';\r\n  const path = `${icon}#bookshelf-${theme}`;\r\n  const markup = `<use href=\"${path}\"></use>`;\r\n  cartRefs.logoIcon.innerHTML = markup;\r\n};\r\n\r\nexport const handleCartDarkTheme = event => {\r\n  const { value: isDarkTheme } = getLS('isDarkTheme') || {};\r\n  changeLogoIcon(checkBox.checked);\r\n  if (event ? checkBox.checked : isDarkTheme) {\r\n    cartRefs.body.classList.add('dark-theme');\r\n\r\n    checkBox.checked = true;\r\n    setLS('isDarkTheme', { value: true });\r\n  } else {\r\n    checkBox.checked = false;\r\n    cartRefs.body.classList.remove('dark-theme');\r\n    setLS('isDarkTheme', null);\r\n  }\r\n};\r\n\r\nhandleCartDarkTheme();\r\n\r\ncheckBox.addEventListener('click', handleCartDarkTheme);\r\n\r\n// function clearCart() {\r\n//   setLS('cart', null);\r\n// }\r\n\r\n// clearCart();\r\n"],"names":["cartTimerWrap","createCartCountdownTimerMarkup","dom","timerFinished","getTime","lsTime","addTime","finishedTime","timerInterval","timeNow","timer","formattedTime","getFormattedTime","renderTime","time","timeData","key","prefixKey","getLS","lsValue","setLS","value","error","emptyCart","store","getActualCards","cards","getCardsByPage","page","createPaginationButton","label","changePagination","button","renderPagination","domElement","cart","pages","currentPage","paginationDiv","countPageBtn","isStartDotsBtn","isEndDotsBtn","btn1","btn2","dotsBtnPrev","index","newPage","pageBtn","dotsBtn","btn3","btn4","makeDeleteCardFromLSHandler","id","newCart","book","renderCartMarkupWithPagination","createCardsMarkup","amazon","apple","createEmptyCartMarkup","makeChangePagination","renderContent","createCategoryMarkup","renderCart","isUserLoggedIn","setActivePage","cartRefs","refs","checkBox","changeLogoIcon","isDarkTheme","markup","icon","handleCartDarkTheme","event"],"mappings":"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"}