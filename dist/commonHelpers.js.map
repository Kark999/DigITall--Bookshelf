{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetchData.js","../src/js/cartDataHandler.js","../src/js/modal.js","../src/js/createTopSellers.js","../src/js/createCategoryList.js","../src/js/scroll.js","../src/js/footer.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books';\r\n\r\nexport const endPoints = {\r\n  list: '/category-list',\r\n  topbooks: '/top-books',\r\n  category: '/category?category=',\r\n  id: '/{id}',\r\n};\r\n\r\nexport async function fetchData(endPoint, selectedCategory = '') {\r\n  try {\r\n    const url = endPoint + selectedCategory;\r\n    const response = await axios.get(url);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n    return null;\r\n  }\r\n}\r\n","export function cartDataHandler(e, bookData) {\r\n  const cartDataArray = JSON.parse(localStorage.getItem('cart'))\r\n    ? JSON.parse(localStorage.getItem('cart'))\r\n    : [];\r\n  if (e.target.textContent.toLowerCase().includes('add')) {\r\n    cartDataArray.push(bookData);\r\n    localStorage.setItem('cart', JSON.stringify(cartDataArray));\r\n  } else {\r\n    const i = cartDataArray.findIndex(x => x._id === bookData._id);\r\n    cartDataArray.splice(i, 1);\r\n    localStorage.setItem('cart', JSON.stringify(cartDataArray));\r\n  }\r\n}\r\n\r\nexport function checkCartData(bookData) {\r\n  const books = getCartData();\r\n  return books ? books.some(item => item._id === bookData._id) : false;\r\n}\r\n\r\nexport function isEmptyCartData() {\r\n  return Boolean(getCartData().length)\r\n}\r\n\r\nexport function getCartData() {\r\n  return JSON.parse(localStorage.getItem('cart')) || [];\r\n}\r\n\r\n// function toggleLocalStorage(bookId) {\r\n//   let storedBooks = JSON.parse(localStorage.getItem('books')) || [];\r\n//   const bookIndex = storedBooks.indexOf(bookId);\r\n\r\n//   if (bookIndex === -1) {\r\n//     storedBooks.push(bookId);\r\n//   } else {\r\n//     storedBooks.splice(bookIndex, 1);\r\n//   }\r\n\r\n//   if (storedBooks.length === 0) {\r\n//     localStorage.removeItem('books');\r\n//   } else {\r\n//     localStorage.setItem('books', JSON.stringify(storedBooks));\r\n//   }\r\n// }\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/dist/basicLightbox.min.css';\r\nimport icon from '../img/icons.svg';\r\nimport amazon from '../img/png/amazon.png';\r\nimport apple from '../img/png/apple-book.png';\r\nimport { fetchData } from './fetchData';\r\nimport { cartDataHandler, checkCartData } from './cartDataHandler';\r\nimport { refs } from './refs';\r\n\r\nconst textForAddButton = 'Add to shopping list';\r\nconst textForRemoveButton = 'Remove from the shopping list';\r\nconst textIfBookIsAdded =\r\n  'Congratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\r\nconst textIfBookIsRemoved = '';\r\nconst textNotFoundDescription = 'No description has been added to this book';\r\n\r\nlet bookDataById;\r\n\r\nasync function createModalWindowMarkup(e) {\r\n  const id = e.target.dataset.id;\r\n  const result = await fetchData(id);\r\n  bookDataById = result;\r\n  const markup = `<div class=\"modal-container\">\r\n        <button class=\"modal-button-close\" type=\"button\">\r\n        <svg class=\"modal-icon-close\" width=\"24\" height=\"24\">\r\n        <use href=${icon}#x-close></use></svg></button>\r\n        <div class=\"modal-book-wrapper\">\r\n        <img\r\n          class=\"modal-img\"\r\n          src=\"${result.book_image}\"\r\n          alt=\"${result.title}\"\r\n          width=\"287\"\r\n          height=\"408\"/>\r\n        <div class=\"modal-book-desc-wrapper\">\r\n        <h2 class=\"modal-book-title\">${result.title}</h2>\r\n        <h3 class=\"modal-book-author\">${result.author}</h3>\r\n        <p class=\"modal-book-desc\">${\r\n          result.description ? result.description : textNotFoundDescription\r\n        }</p>\r\n        <div class=\"modal-buy-links-wrapper\">\r\n        <a\r\n          class=\"modal-buy-link\"\r\n          href=${result.buy_links[0].url}\r\n          target=\"_blank\">\r\n        <img\r\n          class=\"modal-link-amazon-icon\"\r\n          src=${amazon}\r\n          alt=\"Amazon product link\"\r\n          width=\"62\"\r\n          height=\"19\"/></a>\r\n        <a\r\n          class=\"modal-buy-link\"\r\n          href=${result.buy_links[1].url}\r\n          target=\"_blank\">\r\n        <img\r\n          class=\"modal-link-apple-icon\"\r\n          src=${apple}\r\n          alt=\"Apple-book product link\"\r\n          width=\"33\"\r\n          height=\"32\"/></a></div></div></div>\r\n        <div class=\"button-toggle-wrapper\">\r\n        <button class=\"add-remove-button modal-button-glow-styles\" type=\"button\">${\r\n          checkCartData(result) ? textForRemoveButton : textForAddButton\r\n        }</button>\r\n        <span class=\"modal-text\">${\r\n          checkCartData(result) ? textIfBookIsAdded : textIfBookIsRemoved\r\n        }</span>\r\n        </div></div>`;\r\n  return markup;\r\n}\r\n\r\nexport async function createAndOpenModalWindow(e) {\r\n  // if (\r\n  //   (e.target.dataset.action === 'open-modal' && window.innerWidth > 768) ||\r\n  //   (e.target !== e.currentTarget && window.innerWidth <= 768)\r\n  // ) {\r\n  //   const modalWindowMarkup = await createModalWindowMarkup(e);\r\n  //   const modalWindowInstance = basicLightbox.create(modalWindowMarkup, {\r\n  //     onClose: () => window.removeEventListener('resize', checkWindowSize),\r\n  //   });\r\n  //   modalDarkThemeFunction(modalWindowInstance);\r\n  //   modalWindowInstance.show(onShowModalWindowInstance);\r\n  // } else {\r\n  //   return;\r\n  // }\r\n  if (e.target === e.currentTarget) return;\r\n\r\n  const modalWindowMarkup = await createModalWindowMarkup(e);\r\n  const modalWindowInstance = basicLightbox.create(modalWindowMarkup, {\r\n    onClose: () => {\r\n      window.removeEventListener('resize', checkWindowSize);\r\n      document.body.classList.remove('scroll-ban');\r\n    },\r\n  });\r\n  modalDarkThemeFunction(modalWindowInstance);\r\n  modalWindowInstance.show(onShowModalWindowInstance);\r\n}\r\n\r\nfunction onShowModalWindowInstance(i) {\r\n  if (!JSON.parse(localStorage.getItem('userInfo'))) {\r\n    const buttonToggleWrapper = i\r\n      .element()\r\n      .querySelector('.button-toggle-wrapper');\r\n    buttonToggleWrapper.classList.add('hidden');\r\n  }\r\n  checkWindowSize();\r\n  window.addEventListener('resize', checkWindowSize);\r\n  const closeButton = i.element().querySelector('.modal-button-close');\r\n  const addRemoveButton = i.element().querySelector('.add-remove-button');\r\n  document.body.classList.add('scroll-ban');\r\n  document.addEventListener('keydown', onTypeEscape);\r\n  closeButton.addEventListener('click', onCloseButtonClick);\r\n  addRemoveButton.addEventListener('click', onClickAddRemoveButton);\r\n\r\n  function onTypeEscape(e) {\r\n    if (e.key === 'Escape') {\r\n      i.close(removeAllEventListeners);\r\n    }\r\n  }\r\n\r\n  function onCloseButtonClick() {\r\n    i.close(removeAllEventListeners);\r\n  }\r\n\r\n  function removeAllEventListeners() {\r\n    document.removeEventListener('keydown', onTypeEscape),\r\n      addRemoveButton.removeEventListener('click', onClickAddRemoveButton),\r\n      closeButton.removeEventListener('click', onCloseButtonClick),\r\n      window.removeEventListener('resize', checkWindowSize);\r\n    document.body.classList.remove('scroll-ban');\r\n  }\r\n}\r\n\r\nfunction onClickAddRemoveButton(e) {\r\n  if (e.currentTarget.textContent === textForAddButton) {\r\n    cartDataHandler(e, bookDataById);\r\n    e.currentTarget.textContent = textForRemoveButton;\r\n    e.currentTarget.nextElementSibling.textContent = textIfBookIsAdded;\r\n  } else if (e.currentTarget.textContent === textForRemoveButton) {\r\n    cartDataHandler(e, bookDataById);\r\n    e.currentTarget.textContent = textForAddButton;\r\n    e.currentTarget.nextElementSibling.textContent = textIfBookIsRemoved;\r\n  }\r\n}\r\n\r\nfunction modalDarkThemeFunction(instance) {\r\n  const modalRefsClassList = {\r\n    container: instance.element().querySelector('.modal-container').classList,\r\n    closeButton: instance.element().querySelector('.modal-button-close')\r\n      .classList,\r\n    closeIcon: instance.element().querySelector('.modal-icon-close').classList,\r\n    bookTitle: instance.element().querySelector('.modal-book-title').classList,\r\n    desc: instance.element().querySelector('.modal-book-desc').classList,\r\n    amazonIcon: instance.element().querySelector('.modal-link-amazon-icon')\r\n      .classList,\r\n    appleIcon: instance.element().querySelector('.modal-link-apple-icon')\r\n      .classList,\r\n    addRemoveButton: instance.element().querySelector('.add-remove-button')\r\n      .classList,\r\n    text: instance.element().querySelector('.modal-text').classList,\r\n  };\r\n  if (refs.checkbox.checked) {\r\n    modalRefsClassList.container.add('modal-container-dark-theme');\r\n    modalRefsClassList.closeIcon.add('modal-icon-close-dark-theme');\r\n    modalRefsClassList.bookTitle.add('modal-text-dark-theme');\r\n    modalRefsClassList.desc.add('modal-text-dark-theme');\r\n    modalRefsClassList.amazonIcon.add('modal-icon-amazon-dark-theme');\r\n    modalRefsClassList.appleIcon.add('modal-icon-apple-dark-theme');\r\n    modalRefsClassList.addRemoveButton.add('modal-text-dark-theme');\r\n    modalRefsClassList.addRemoveButton.add(\r\n      'modal-button-glow-styles-dark-theme'\r\n    );\r\n    modalRefsClassList.text.add('modal-label-dark-theme');\r\n  } else {\r\n    modalRefsClassList.container.remove('modal-container-dark-theme');\r\n    modalRefsClassList.closeIcon.remove('modal-icon-close-dark-theme');\r\n    modalRefsClassList.bookTitle.remove('modal-text-dark-theme');\r\n    modalRefsClassList.desc.remove('modal-text-dark-theme');\r\n    modalRefsClassList.amazonIcon.remove('modal-icon-amazon-dark-theme');\r\n    modalRefsClassList.appleIcon.remove('modal-icon-apple-dark-theme');\r\n    modalRefsClassList.addRemoveButton.remove('modal-text-dark-theme');\r\n    modalRefsClassList.addRemoveButton.remove(\r\n      'modal-button-glow-styles-dark-theme'\r\n    );\r\n    modalRefsClassList.text.remove('modal-label-dark-theme');\r\n  }\r\n}\r\n\r\nfunction checkWindowSize() {\r\n  const lightboxContainer = document.querySelector('.basicLightbox');\r\n  const modalContainer = document.querySelector('.modal-container');\r\n  if (window.innerHeight < modalContainer.offsetHeight) {\r\n    lightboxContainer.classList.add('lightbox-scroll');\r\n  } else {\r\n    lightboxContainer.classList.remove('lightbox-scroll');\r\n  }\r\n}\r\n","import {\r\n  createCategoryMarkup,\r\n  createBookMarkup,\r\n  createButton,\r\n  renderContent,\r\n  renderLoader,\r\n} from './createMarkups';\r\nimport { fetchData, endPoints } from './fetchData';\r\nimport { createAndOpenModalWindow } from './modal';\r\nimport { refs } from './refs';\r\n\r\nfunction createTopSellers(data) {\r\n  return data\r\n    .map(x => {\r\n      const strArr = x.list_name.split(' ');\r\n      strArr[strArr.length - 1] = `<span>${strArr[strArr.length - 1]}</span>`;\r\n      const title = `<h2 class=\"category-title\">${strArr.join(' ')}</h2>`;\r\n      const catMarkup = createCategoryMarkup(x.books, createBookMarkup);\r\n      const button = createButton(\r\n        'see-more-button',\r\n        'See more',\r\n        x.list_name,\r\n        'see-more'\r\n      );\r\n      return title + catMarkup + button;\r\n    })\r\n    .join('');\r\n}\r\n\r\nexport async function renderTopSellers() {\r\n  const topBookData = await fetchData(endPoints.topbooks);\r\n  const topBooksMarkup = createTopSellers(topBookData);\r\n  renderContent(refs.mainCatWrap, topBooksMarkup, createAndOpenModalWindow);\r\n}\r\n","import { refs } from './refs';\r\nimport { fetchData } from './fetchData';\r\nimport { endPoints } from './fetchData';\r\nimport { createAndOpenModalWindow } from './modal';\r\nimport {\r\n  createCategoryMarkup,\r\n  createBookMarkup,\r\n  renderContent,\r\n  renderLoader,\r\n} from './createMarkups';\r\nimport { renderTopSellers } from './createTopSellers';\r\nimport { showElement } from './showHideFn';\r\n\r\ncatList();\r\n\r\nrefs.catList.addEventListener('click', e => {\r\n  onCatClick(e);\r\n  window.scrollTo({ top: refs.mainTitle.offsetTop - 20, behavior: 'smooth' });\r\n});\r\n\r\nasync function catList() {\r\n  const catListData = await fetchData(endPoints.list);\r\n  const catListMarkup = createCategoryList(catListData);\r\n  renderContent(refs.catList, catListMarkup);\r\n}\r\n\r\nfunction createCategoryList(data) {\r\n  const titleMarkup = `<li class=\"sidebar-category-item\"><p class=\"sidebar-category-text make-blue\">All categories</p></li>`;\r\n  const itemsMarkup = data\r\n    .map(\r\n      item =>\r\n        `<li class=\"sidebar-category-item\" data-category=\"${item.list_name}\"><p class=\"sidebar-category-text\" data-category=\"${item.list_name}\">${item.list_name}</p></li>`\r\n    )\r\n    .join('');\r\n  const mainMarkup = titleMarkup + itemsMarkup;\r\n  return mainMarkup;\r\n}\r\n\r\nfunction linkIsActive(e) {\r\n  if (e.target.nodeName === 'LI') {\r\n    const arrayElem = e.target.parentElement.querySelectorAll(\r\n      '.sidebar-category-text'\r\n    );\r\n    arrayElem.forEach(item => {\r\n      item.classList.remove('make-blue');\r\n    });\r\n    e.target.firstElementChild.classList.add('make-blue');\r\n  } else if (e.target.nodeName === 'P') {\r\n    const arrayElem = e.target.parentElement.parentElement.querySelectorAll(\r\n      '.sidebar-category-text'\r\n    );\r\n    arrayElem.forEach(item => {\r\n      item.classList.remove('make-blue');\r\n    });\r\n    e.target.classList.add('make-blue');\r\n  }\r\n}\r\n\r\nasync function onCatClick(e) {\r\n  if (e.target === e.currentTarget) return;\r\n\r\n  if (!e.target.dataset.category) {\r\n    refs.mainTitle.innerHTML = `Best Sellers <span>Books</span>`;\r\n    refs.mainTitle.scrollIntoView({ behavior: 'smooth' }); //!\r\n    linkIsActive(e);\r\n    renderTopSellers();\r\n    return;\r\n  }\r\n  linkIsActive(e);\r\n  renderLoader(refs.mainCatWrap);\r\n  const strArr = e.target.dataset.category.split(' ');\r\n  strArr[strArr.length - 1] = `<span>${strArr[strArr.length - 1]}</span>`;\r\n  refs.mainTitle.innerHTML = strArr.join(' ');\r\n  refs.mainTitle.scrollIntoView({ behavior: 'smooth' }); //!\r\n  const selectedCatData = await fetchData(\r\n    endPoints.category,\r\n    e.target.dataset.category\r\n  );\r\n  const selectedCatMarkup = createCategoryMarkup(\r\n    selectedCatData,\r\n    createBookMarkup\r\n  );\r\n  renderContent(refs.mainCatWrap, selectedCatMarkup, createAndOpenModalWindow);\r\n  const catBooks = document.querySelectorAll('.main-category-item');\r\n  catBooks.forEach(x => showElement(x));\r\n}\r\n","import { debounce } from './donation-list';\r\n\r\nconst buttonUp = document.querySelector('.button-up');\r\n\r\nfunction handlerForWindowScroll() {\r\n  if (window.innerHeight / 2 < window.scrollY) {\r\n    buttonUp.classList.add('button-up--show');\r\n    buttonUp.addEventListener('click', handlerForButtonUp);\r\n  } else {\r\n    buttonUp.classList.remove('button-up--show');\r\n    buttonUp.removeEventListener('click', handlerForButtonUp);\r\n  }\r\n}\r\n\r\nfunction handlerForButtonUp() {\r\n  window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n\r\nconst scrollHandlerDebounced = debounce(handlerForWindowScroll, 100);\r\nwindow.addEventListener('scroll', scrollHandlerDebounced);\r\n","import iziToast from 'izitoast';\r\n\r\nconst STORAGE_KEY = 'mailing-list';\r\nconst LAST_INPUT = 'input-last-value';\r\n\r\nconst form = document.querySelector('.footer-form');\r\n\r\nfunction debounce(func, delay) {\r\n  let timeoutId;\r\n  return function (...args) {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      func.apply(this, args);\r\n    }, delay);\r\n  };\r\n}\r\nconst saveToLSdebounced = debounce(function () {\r\n  const userEmail = form.elements.email.value;\r\n  saveToLS(LAST_INPUT, userEmail);\r\n}, 500);\r\n\r\nform.addEventListener('input', saveToLSdebounced);\r\n\r\nform.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n\r\n  // валідація поля email\r\n  const userEmail = form.elements.email.value;\r\n  if (userEmail.trim() === '') {\r\n    iziToast.show({\r\n      message: `Введіть e-mail`,\r\n      messageColor: '#FFFFFF',\r\n      backgroundColor: '#59A10D',\r\n      position: 'topRight',\r\n    });\r\n    return;\r\n  }\r\n  // ====================\r\n\r\n  const data = loadFromLS(STORAGE_KEY) || [];\r\n  data.push(form.elements.email.value);\r\n  saveToLS(STORAGE_KEY, data);\r\n  form.reset();\r\n});\r\n\r\nfunction loadFromLS(key) {\r\n  const data = localStorage.getItem(key);\r\n  if (!data) return;\r\n  try {\r\n    const result = JSON.parse(data);\r\n    return result;\r\n  } catch {\r\n    return data;\r\n  }\r\n}\r\n\r\nfunction saveToLS(key, value) {\r\n  const jsonData = JSON.stringify(value);\r\n  localStorage.setItem(key, jsonData);\r\n}\r\n\r\nfunction restoreData() {\r\n  const data = loadFromLS(LAST_INPUT) || '';\r\n  form.elements.email.value = data;\r\n}\r\n\r\nrestoreData();\r\nloadFromLS(STORAGE_KEY);\r\n","import './js/enableDarkTheme';\r\nimport './js/autorization';\r\nimport './js/donation-list';\r\nimport './js/createCategoryList';\r\nimport './js/scroll';\r\nimport { fetchData, endPoints } from './js/fetchData';\r\nimport {\r\n  createBookMarkup,\r\n  createCategoryMarkup,\r\n  renderContent,\r\n  renderLoader,\r\n} from './js/createMarkups';\r\nimport { createAndOpenModalWindow } from './js/modal';\r\nimport { renderTopSellers } from './js/createTopSellers';\r\nimport { showElement, setActivePage } from './js/showHideFn';\r\nimport { refs } from './js/refs';\r\nimport './js/mob-menu';\r\nimport { isUserLoggedIn } from './js/autorization';\r\nimport './js/footer';\r\n\r\nisUserLoggedIn();\r\nsetActivePage('header-nav-link-home');\r\nrenderTopSellers();\r\nrefs.mainCatWrap.addEventListener('click', e => {\r\n  if (e.target.dataset.action !== 'see-more') return;\r\n  onMoreButtonClick(e);\r\n  window.scrollTo({ top: refs.mainTitle.offsetTop - 20, behavior: 'smooth' });\r\n});\r\n\r\nasync function onMoreButtonClick(e) {\r\n  if (!e.target.dataset.category) return;\r\n\r\n  const strArr = e.target.dataset.category.split(' ');\r\n  strArr[strArr.length - 1] = `<span>${strArr[strArr.length - 1]}</span>`;\r\n  refs.mainTitle.innerHTML = strArr.join(' ');\r\n\r\n  const selectedCatData = await fetchData(\r\n    endPoints.category,\r\n    e.target.dataset.category\r\n  );\r\n\r\n  const selectedCatMarkup = createCategoryMarkup(\r\n    selectedCatData,\r\n    createBookMarkup\r\n  );\r\n\r\n  renderContent(refs.mainCatWrap, selectedCatMarkup, createAndOpenModalWindow);\r\n  const catBooks = document.querySelectorAll('.main-category-item');\r\n  catBooks.forEach(x => showElement(x));\r\n}\r\n"],"names":["axios","endPoints","fetchData","endPoint","selectedCategory","url","error","cartDataHandler","bookData","cartDataArray","i","x","checkCartData","books","getCartData","item","textForAddButton","textForRemoveButton","textIfBookIsAdded","textIfBookIsRemoved","textNotFoundDescription","bookDataById","createModalWindowMarkup","id","result","icon","amazon","apple","createAndOpenModalWindow","modalWindowMarkup","modalWindowInstance","basicLightbox.create","checkWindowSize","modalDarkThemeFunction","onShowModalWindowInstance","closeButton","addRemoveButton","onTypeEscape","onCloseButtonClick","onClickAddRemoveButton","e","removeAllEventListeners","instance","modalRefsClassList","refs","lightboxContainer","modalContainer","createTopSellers","data","strArr","title","catMarkup","createCategoryMarkup","createBookMarkup","button","createButton","renderTopSellers","topBookData","topBooksMarkup","renderContent","catList","onCatClick","catListData","catListMarkup","createCategoryList","titleMarkup","itemsMarkup","linkIsActive","renderLoader","selectedCatData","selectedCatMarkup","showElement","buttonUp","handlerForWindowScroll","handlerForButtonUp","scrollHandlerDebounced","debounce","STORAGE_KEY","LAST_INPUT","form","func","delay","timeoutId","args","saveToLSdebounced","userEmail","saveToLS","iziToast","loadFromLS","key","value","jsonData","restoreData","isUserLoggedIn","setActivePage","onMoreButtonClick"],"mappings":"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"}