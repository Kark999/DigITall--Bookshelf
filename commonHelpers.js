import{f as c,e as i,r as l,c as u,a as s,b as m,d as p,g as f}from"./assets/modal-d5375526.js";import"./assets/vendor-389f7b34.js";function b(t){return t.map(e=>{const a=e.list_name.split(" ");a[a.length-1]=`<span>${a[a.length-1]}</span>`;const r=`<h2 class="category-title">${a.join(" ")}</h2>`,n=m(e.books,p),o=f("see-more-button","See more",e.list_name);return r+n+o}).join("")}async function y(){const t=await c(i.topbooks),e=b(t);l(s.mainCatWrap,e,u)}L();s.catList.addEventListener("click",E);async function L(){const t=await c(i.list),e=h(t);l(s.catList,e)}function h(t){const e='<li class="sidebar-category-item"><p class="sidebar-category-text make-blue">All categories</p></li>',a=t.map(n=>`<li class="sidebar-category-item" data-category="${n.list_name}"><p class="sidebar-category-text" data-category="${n.list_name}">${n.list_name}</p></li>`).join("");return e+a}function g(t){t.target.nodeName==="LI"?(t.target.parentElement.querySelectorAll(".sidebar-category-text").forEach(a=>{a.classList.remove("make-blue")}),t.target.firstElementChild.classList.add("make-blue")):t.target.nodeName==="P"&&(t.target.parentElement.parentElement.querySelectorAll(".sidebar-category-text").forEach(a=>{a.classList.remove("make-blue")}),t.target.classList.add("make-blue"))}async function E(t){if(t.target===t.currentTarget)return;if(!t.target.dataset.category){g(t),y();return}g(t);const e=t.target.dataset.category.split(" ");e[e.length-1]=`<span>${e[e.length-1]}</span>`,s.mainTitle.innerHTML=e.join(" ");const a=await c(i.category,t.target.dataset.category),r=m(a,p);l(s.mainCatWrap,r,u),document.querySelectorAll(".main-category-item").forEach(o=>showElement(o))}const d=document.querySelector(".button-up");d.addEventListener("click",k);window.addEventListener("scroll",w);function w(){const t=window.pageYOffset,e=document.documentElement.clientHeight;t>e?d.classList.add("button-up--show"):d.classList.remove("button-up--show")}function k(){window.pageYOffset>0&&(window.scrollBy(0,-75),setTimeout(k,0))}function C(t){t.classList.add("visible"),t.classList.remove("hidden")}y();s.mainCatWrap.addEventListener("click",M);async function M(t){if(!t.target.dataset.category)return;const e=t.target.dataset.category.split(" ");e[e.length-1]=`<span>${e[e.length-1]}</span>`,s.mainTitle.innerHTML=e.join(" ");const a=await c(i.category,t.target.dataset.category),r=m(a,p);l(s.mainCatWrap,r,u),document.querySelectorAll(".main-category-item").forEach(o=>C(o))}
//# sourceMappingURL=commonHelpers.js.map
